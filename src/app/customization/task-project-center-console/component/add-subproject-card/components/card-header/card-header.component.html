<div class="title">
  {{ addSubProjectCardService.taskCardTitle }}
</div>
<div class="content">
  <div class="resource-load" [ngClass]="{ forbidden: isForbidden }" (click)="showHRLoad()">
    {{ 'dj-pcc-人力资源负荷' | translate }}
  </div>

  <div
    *ngIf="isShowAutoSchedule"
    class="auto-schedue"
    [ngClass]="{ forbidden: isForbidden }"
    (click)="autoScheduleFrontJudge()"
    [userBehavior]="{ name: 'dj-default-自动排期', code: autoScheduleCode }"
  >
    {{ 'dj-default-自动排期' | translate }}
  </div>

  <div
    class="addSub-autoSchedule"
    [ngClass]="{ forbidden: isForbidden || hasProportionInvalid }"
    *ngIf="isShowUseTaskTemplate"
    (click)="useTemplate()"
  >
    {{ 'dj-default-使用模板' | translate }}
  </div>

  <nz-modal
    [(nzVisible)]="isUseTemplateDateVisible"
    nzWrapClassName="delay-modal-box"
    nzClassName="template-box use-template-box "
  >
    <ng-template nzModalContent>
      <div class="template-box">
        <span style="white-space: nowrap;">{{ 'dj-default-计划日期重排基准日期：' | translate }}</span>
        <app-input-new
          style="width: 160px; height: 34px"
          name="templateStart"
          [value]="planRearrangeBaseDate"
          [placeholder]="translateWord('开始时间')"
          [nzDisabledDate]="disabledDate"
          (ngModelChange)="templateTimeChange($event)"
          [nzAllowClear]="true"
        ></app-input-new>
      </div>
      <div class="button-box">
        <button class="btn cancel" (click)="templateDateCancel()">
          {{ 'dj-default-取消' | translate }}
        </button>
        <button class="btn active" (click)="templateDateConfirm()">
          {{ 'dj-default-确定' | translate }}
        </button>
      </div>
    </ng-template>
  </nz-modal>

  <nz-modal
    [(nzVisible)]="isUseTemplateVisible"
    nzWrapClassName="delay-modal-box"
    nzClassName="template-box use-template-box "
  >
    <ng-template nzModalContent>
      <p>{{ 'dj-default-使用模板将会覆盖现有的内容，是否使用模板？' | translate }}</p>
      <div class="button-box">
        <button class="btn cancel" (click)="useTemplateHandleCancel()">
          {{ 'dj-default-取消' | translate }}
        </button>
        <button class="btn active" (click)="useTemplateHandleOk()">
          {{ 'dj-default-确定' | translate }}
        </button>
      </div>
    </ng-template>
  </nz-modal>
</div>
